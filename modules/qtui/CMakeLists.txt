CONFIGURE_FILE(${CMAKE_CURRENT_SOURCE_DIR}/config.h.in ${CMAKE_CURRENT_BINARY_DIR}/config.h)

QT4_ADD_RESOURCES(RESOURCES user_interface.qrc)
QT4_WRAP_CPP(MOC_BUILT_SOURCES viewport.h scene.h main_window.h)
QT4_WRAP_UI(UI_BUILT_SOURCES extrude_faces.ui main_window.ui)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR})
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})

ADD_DEFINITIONS(-DQT_NO_KEYWORDS)

K3D_BUILD_QTUI_MODULE(k3d-qtui EXTRA_SOURCES ${RESOURCES} ${MOC_BUILT_SOURCES} ${UI_BUILT_SOURCES})
K3D_CREATE_MODULE_PROXY(k3d-qtui)

TARGET_LINK_LIBRARIES(k3d-qtui ${K3D_BOOST_PROGRAM_OPTIONS_LIBS})

